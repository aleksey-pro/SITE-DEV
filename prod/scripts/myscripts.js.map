{"version":3,"names":[],"mappings":"","sources":["myscripts.js"],"sourcesContent":["\r\n$(document).ready(function() {\r\n\r\n//active link on click\r\n\r\n  $('.nav__item').on('click', function(){\r\n    var list = $(this).closest('ul');\r\n    list.find('.nav__item').removeClass('active');\r\n    $(this).toggleClass('active');\r\n  });\r\n\r\n  $('.title1').css('display', 'block');\r\n\r\n\r\n// works horizontal scrolling\r\n\r\nvar myScroll;\r\n\r\nfunction adjustCardsContainer(){\r\n  var workCardWidth = $('.grid__item').width();\r\n  var workCardQnty = $('.grid__item').length;\r\n  var sw = (window.matchMedia(\"(max-height: 800px)\").matches) ? workCardWidth * workCardQnty + 100 : (workCardWidth * (workCardQnty / 2) + 100);\r\n  $('#scroller').css('width', sw + \"px\");\r\n}\r\n\r\nadjustCardsContainer();\r\n\r\n$(window).resize(function(){\r\n  adjustCardsContainer();\r\n});\r\n\r\n//оризонтальный скроллл секции работ\r\n\r\nfunction horScroll() {\r\n  myScroll = new IScroll('#scrolling-wrapper', {\r\n    eventPassthrough: true,\r\n    scrollX: true,\r\n    scrollY: false,\r\n    scrollbars: true,\r\n    interactiveScrollbars: true,\r\n    mouseWheel: false,\r\n    keyBindings: true,\r\n    useTransition: false\r\n  });\r\n};\r\n\r\nhorScroll();\r\n\r\n// document.addEventListener('touchmove', function(e) {\r\n//   e.preventDefault();\r\n// }, false);\r\n\r\n\r\n// fullpage settings\r\n\r\n  $('#fullpage').fullpage({\r\n    anchors: ['main-page', 'works-page', 'price-page', 'tech-page', 'order-page'],\r\n    menu: '#menu',\r\n    scrollBar: false,\r\n    controlArrows: false,\r\n    slidesNavigation: true,\r\n    slidesNavPosition: 'bottom',\r\n    paddingTop: '50px',\r\n    // Докрутка\r\n    // fitToSection: false,\r\n    // scrollOverflow:true,\r\n    loopBottom: true,\r\n    lazyLoading: true,//<img data-src=\"image.png\">\r\n    responsiveWidth: 768,\r\n    onSlideLeave: function( anchorLink, index, slideIndex, direction, nextSlideIndex){\r\n      var leavingSlide = $(this);\r\n\r\n      //настройка слайдера\r\n\r\n      function fade(slide){\r\n        setTimeout(function() {\r\n          $('.slide__title').css('display', 'none');\r\n          $(slide).fadeIn('4000');\r\n        }, 1000);\r\n      }\r\n\r\n      // index == 1;\r\n      // var i = slideIndex, dir = direction;\r\n      // switch (i, dir) {\r\n      // case (i == 0 && dir == 'right'):\r\n      //   console.log('First silde leaved');\r\n      //   fade('.title2');\r\n      //   // break;\r\n      // case (i == 1 && dir == 'right'):\r\n      //   console.log('Second silde leaved');\r\n      //   fade('.title3');\r\n      //   // break;\r\n      // }\r\n\r\n\r\n\r\n      if(index == 1 && slideIndex == 0 && direction == 'right'){\r\n        fade('.title2');\r\n      }\r\n\r\n      if(index == 1 && slideIndex == 1 && direction == 'right'){\r\n        fade('.title3');\r\n      }\r\n\r\n      if(index == 1 && slideIndex == 2 && direction == 'right'){\r\n        fade('.title4');\r\n      }\r\n\r\n      if(index == 1 && slideIndex == 3 && direction == 'right'){\r\n        fade('.title5');\r\n      }\r\n\r\n      if(index == 1 && slideIndex == 4 && direction == 'left'){\r\n        fade('.title1');\r\n      }\r\n    }\r\n\r\n  });// fullpage init\r\n\r\n  setInterval(function(){\r\n      $.fn.fullpage.moveSlideRight();\r\n    }, 5000);\r\n\r\n//nice-select for inputs\r\n\r\n$('.order-form select').niceSelect();\r\n\r\n//toggle hamburger menu\r\n\r\n$('.hamburger').on('click', function(){\r\n  $(this).toggleClass(\"is-active\");\r\n  $('.nav-dropdown').slideToggle('slow');\r\n});\r\n\r\n$('.nav__link').on('click', function(){\r\n  $('.nav-dropdown').slideUp('fast');\r\n  $('.hamburger').removeClass(\"is-active\");\r\n});\r\n\r\n\r\n\r\n//price-tabs\r\n\r\n  var $wrapper = $('.price-table'),\r\n      $allTabs = $wrapper.find('.price-table__block'),\r\n      $tabMenu = $wrapper.find('.price-table__item');\r\n\r\n  $allTabs.not(':first-of-type').hide();\r\n\r\n  $tabMenu.each(function(i) {\r\n    $(this).attr('data-tab', 'tab'+i);\r\n  })\r\n  $allTabs.each(function(i) {\r\n    $(this).attr('data-tab', 'tab'+i);\r\n  })\r\n\r\n  $tabMenu.on('click', function() {\r\n\r\n    var dataTab = $(this).data('tab');\r\n    $getWrapper = $(this).closest($wrapper);\r\n    $getWrapper.find($tabMenu).removeClass('active');\r\n    $(this).removeClass('hovered');\r\n    $(this).addClass('active');\r\n    $getWrapper.find($allTabs).hide();\r\n    $getWrapper.find($allTabs).filter('[data-tab='+dataTab+']').show();\r\n  })\r\n\r\n  $tabMenu.on('mouseenter mouseleave',\r\n    function(){\r\n      if(!$(this).hasClass('active')){\r\n        $(this).toggleClass('hovered');\r\n      }\r\n    });\r\n\r\n// mailsend\r\n\r\n    $('#send-btn').on('click', function(e){\r\n      e.preventDefault();\r\n      console.log('start sending...');\r\n      var errors = false;\r\n      var $form = $(this).closest('.order-form');\r\n      // $($form).find('span').empty();\r\n      // $form.find('input, textarea').each(function(){\r\n      //   if($.trim( $(this).val() ) == ''){\r\n      //     errors = true;\r\n      //     // $(this).next().text('Не заполнено поле' + $(this).prev().text());\r\n      //     console.log('Не заполнено поле');\r\n      //   }\r\n      // });\r\n\r\n        // var json = {\r\n        //   name: $('input[name=name]').val(),\r\n        //   email: $('input[name=email]').val(),\r\n        //   type: $('input[name=type]').val(),\r\n        //   verstka:  $('input[name=verstka]').val(),\r\n        //   adaptive:  $('input[name=adaptive]').val(),\r\n        //   pagn:  $('input[name=pagn]').val(),\r\n        //   ishodn:  $('input[name=ishodn]').val(),\r\n        //   tz:  $('input[name=tz]').val(),\r\n        //   comment:  $('input[name=comment]').val()\r\n        // }\r\n        // var Obj = JSON.parse(json);\r\n        // console.log(Obj['verstka']);\r\n        // $('.data>span').html(Obj['name']);\r\n\r\n      if(!errors) {\r\n        var data = $('.order-form').serialize(); //склеивает данные форму в qerystring\r\n        console.log(data);\r\n        $.ajax({\r\n          url: 'mailSend.php',\r\n          type: 'POST',\r\n          // data: 'json=' + JSON.stringify(json),\r\n          data: data,\r\n          contentType: false,\r\n          processData: false,\r\n          beforeSend: function(){\r\n            $('#send-btn').next().text('Отправляю...');\r\n          },\r\n          success: function(res){\r\n            if(res !== 1){\r\n            $('.order-form').find('input:not(#send-btn), textarea').val('');\r\n              $('#send-btn').next().text('');\r\n\r\n              // console.log(Obj['name']); //error\r\n              console.log('Отправлено');\r\n              console.log(res);\r\n\r\n            }else {\r\n              $('#send-btn').next().empty();\r\n              console.log('Ошибка отправки');\r\n            }\r\n          },\r\n          error: function() {\r\n            console.log('Ошибка');\r\n          }\r\n        });\r\n      }\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n});//ready\r\n"],"file":"myscripts.js"}