{"version":3,"names":[],"mappings":"","sources":["myscripts.js"],"sourcesContent":["$(document).ready(function() {\r\n  svg4everybody();\r\n\r\n  //active link on click\r\n\r\n  $(\".nav__item\").on(\"click\", function() {\r\n    var list = $(this).closest(\"ul\");\r\n    list.find(\".nav__item\").removeClass(\"active\");\r\n    $(this).toggleClass(\"active\");\r\n  });\r\n\r\n  $(\".title1\").css(\"display\", \"block\");\r\n\r\n  // works horizontal scrolling\r\n\r\n  var myScroll;\r\n\r\n  function adjustCardsContainer() {\r\n    var workCardWidth = $(\".grid__item\").width();\r\n    var workCardQnty = $(\".grid__item\").length;\r\n    // var sw = (window.matchMedia(\"(max-width: 460px)\").matches) ? workCardWidth * workCardQnty + 100 : (workCardWidth * (workCardQnty / 2) + 100);\r\n    var sw = workCardWidth * Math.ceil(workCardQnty / 2) + 100;\r\n    $(\"#scroller\").css(\"width\", sw + \"px\");\r\n  }\r\n\r\n  adjustCardsContainer();\r\n\r\n  $(window).resize(function() {\r\n    adjustCardsContainer();\r\n  });\r\n\r\n  //оризонтальный скроллл секции работ\r\n\r\n  function horScroll() {\r\n    myScroll = new IScroll(\"#scrolling-wrapper\", {\r\n      eventPassthrough: true,\r\n      scrollX: true,\r\n      scrollY: false,\r\n      scrollbars: true,\r\n      interactiveScrollbars: true,\r\n      mouseWheel: false,\r\n      keyBindings: true,\r\n      useTransition: false\r\n    });\r\n  }\r\n\r\n  horScroll();\r\n\r\n  // document.addEventListener('touchmove', function(e) {\r\n  //   e.preventDefault();\r\n  // }, false);\r\n\r\n  // fullpage settings\r\n\r\n  $(\"#fullpage\").fullpage({\r\n    anchors: [\"mainPage\", \"worksPage\", \"pricePage\", \"techPage\", \"orderPage\"],\r\n    menu: \"#menu\",\r\n    scrollBar: false,\r\n    controlArrows: false,\r\n    slidesNavigation: true,\r\n    slidesNavPosition: \"bottom\",\r\n    paddingTop: \"50px\",\r\n    // Докрутка\r\n    // fitToSection: false,\r\n    // scrollOverflow:true,\r\n    loopBottom: true,\r\n    lazyLoading: true, //<img data-src=\"image.png\">\r\n    responsiveWidth: 768,\r\n    onSlideLeave: function(\r\n      anchorLink,\r\n      index,\r\n      slideIndex,\r\n      direction,\r\n      nextSlideIndex\r\n    ) {\r\n      var leavingSlide = $(this);\r\n\r\n      //настройка слайдера\r\n\r\n      function fade(slide) {\r\n        setTimeout(function() {\r\n          $(\".slide__title\").css(\"display\", \"none\");\r\n          $(slide).fadeIn(\"4000\");\r\n        }, 1000);\r\n      }\r\n\r\n      // index == 1;\r\n      // var i = slideIndex, dir = direction;\r\n      // switch (i, dir) {\r\n      // case (i == 0 && dir == 'right'):\r\n      //   console.log('First silde leaved');\r\n      //   fade('.title2');\r\n      //   // break;\r\n      // case (i == 1 && dir == 'right'):\r\n      //   console.log('Second silde leaved');\r\n      //   fade('.title3');\r\n      //   // break;\r\n      // }\r\n\r\n      if (index == 1 && slideIndex == 0 && direction == \"right\") {\r\n        fade(\".title2\");\r\n      }\r\n\r\n      if (index == 1 && slideIndex == 1 && direction == \"right\") {\r\n        fade(\".title3\");\r\n      }\r\n\r\n      if (index == 1 && slideIndex == 2 && direction == \"right\") {\r\n        fade(\".title4\");\r\n      }\r\n\r\n      if (index == 1 && slideIndex == 3 && direction == \"right\") {\r\n        fade(\".title5\");\r\n      }\r\n\r\n      if (index == 1 && slideIndex == 4 && direction == \"left\") {\r\n        fade(\".title1\");\r\n      }\r\n    }\r\n  }); // fullpage init\r\n\r\n  setInterval(function() {\r\n    $.fn.fullpage.moveSlideRight();\r\n  }, 5000);\r\n\r\n  //nice-select for inputs\r\n\r\n  $(\".order-form select\").niceSelect();\r\n\r\n  //toggle hamburger menu\r\n\r\n  $(\".hamburger\").on(\"click\", function() {\r\n    $(this).toggleClass(\"is-active\");\r\n    $(\".nav-dropdown\").slideToggle(\"slow\");\r\n  });\r\n\r\n  $(\".nav__link\").on(\"click\", function() {\r\n    $(\".nav-dropdown\").slideUp(\"fast\");\r\n    $(\".hamburger\").removeClass(\"is-active\");\r\n  });\r\n\r\n  //price-tabs\r\n\r\n  var $wrapper = $(\".price-table\"),\r\n    $allTabs = $wrapper.find(\".price-table__block\"),\r\n    $tabMenu = $wrapper.find(\".price-table__item\");\r\n\r\n  $allTabs.not(\":first-of-type\").hide();\r\n\r\n  $tabMenu.each(function(i) {\r\n    $(this).attr(\"data-tab\", \"tab\" + i);\r\n  });\r\n  $allTabs.each(function(i) {\r\n    $(this).attr(\"data-tab\", \"tab\" + i);\r\n  });\r\n\r\n  $tabMenu.on(\"click\", function() {\r\n    var dataTab = $(this).data(\"tab\");\r\n    $getWrapper = $(this).closest($wrapper);\r\n    $getWrapper.find($tabMenu).removeClass(\"active\");\r\n    $(this).removeClass(\"hovered\");\r\n    $(this).addClass(\"active\");\r\n    $getWrapper.find($allTabs).hide();\r\n    $getWrapper\r\n      .find($allTabs)\r\n      .filter(\"[data-tab=\" + dataTab + \"]\")\r\n      .show();\r\n  });\r\n\r\n  $tabMenu.on(\"mouseenter mouseleave\", function() {\r\n    if (!$(this).hasClass(\"active\")) {\r\n      $(this).toggleClass(\"hovered\");\r\n    }\r\n  });\r\n\r\n  // mailsend\r\n\r\n  $(\"#form\").on(\"submit\", function(e) {\r\n    e.preventDefault();\r\n    var fd = new FormData(this);\r\n    $.ajax({\r\n      url: \"../send.php\",\r\n      type: \"POST\",\r\n      contentType: false,\r\n      processData: false,\r\n      data: fd,\r\n      success: function(msg) {\r\n        if (msg == \"ok\") {\r\n          $(\".info\").text(\"Отправлено\");\r\n          $(\"input, textarea, select\")\r\n            .not(\":input[type=file], :input[type=submit]\")\r\n            .val(\"\");\r\n        } else {\r\n          $(\".info\").text(\"Ошибка\");\r\n        }\r\n      }\r\n    });\r\n  });\r\n}); //ready\r\n"],"file":"myscripts.js"}