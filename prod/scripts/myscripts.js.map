{"version":3,"names":[],"mappings":"","sources":["myscripts.js"],"sourcesContent":["\n$(document).ready(function() {\n\n//active link on click\n\n  $('.nav__item').on('click', function(){\n    var list = $(this).closest('ul');\n    list.find('.nav__item').removeClass('active');\n    $(this).toggleClass('active');\n  });\n\n  $('.title1').css('display', 'block');\n\n\n// works horizontal scrolling\n\nvar myScroll;\n\nfunction adjustCardsContainer(){\n  var workCardWidth = $('.grid__item').width();\n  var workCardQnty = $('.grid__item').length;\n  var sw = (window.matchMedia(\"(max-width: 460px)\").matches) ? workCardWidth * workCardQnty + 100 : (workCardWidth * (workCardQnty / 2) + 100);\n  $('#scroller').css('width', sw + \"px\");\n}\n\nadjustCardsContainer();\n\n$(window).resize(function(){\n  adjustCardsContainer();\n});\n\n\n\nfunction horScroll() {\n  myScroll = new IScroll('#scrolling-wrapper', {\n    eventPassthrough: true,\n    scrollX: true,\n    scrollY: false,\n    scrollbars: true,\n    interactiveScrollbars: true,\n    mouseWheel: false,\n    keyBindings: true,\n    useTransition: false\n  });\n};\n\nhorScroll();\n\n// document.addEventListener('touchmove', function(e) {\n//   e.preventDefault();\n// }, false);\n\n\n// fullpage settings\n\n  $('#fullpage').fullpage({\n    anchors: ['main-page', 'works-page', 'price-page', 'tech-page', 'order-page'],\n    menu: '#menu',\n    scrollBar: false,\n    controlArrows: false,\n    slidesNavigation: true,\n    slidesNavPosition: 'bottom',\n    paddingTop: '50px',\n    // Докрутка\n    // fitToSection: false,\n    // scrollOverflow:true,\n    loopBottom: true,\n    lazyLoading: true,//<img data-src=\"image.png\">\n    responsiveWidth: 768,\n    onSlideLeave: function( anchorLink, index, slideIndex, direction, nextSlideIndex){\n      var leavingSlide = $(this);\n\n      function fade(slide){\n        setTimeout(function() {\n          $('.slide__title').css('display', 'none');\n          $(slide).fadeIn('4000');\n        }, 1000);\n      }\n\n      // index == 1;\n      // var i = slideIndex, dir = direction;\n      // switch (i, dir) {\n      // case (i == 0 && dir == 'right'):\n      //   console.log('First silde leaved');\n      //   fade('.title2');\n      //   // break;\n      // case (i == 1 && dir == 'right'):\n      //   console.log('Second silde leaved');\n      //   fade('.title3');\n      //   // break;\n      // }\n\n\n\n      if(index == 1 && slideIndex == 0 && direction == 'right'){\n        fade('.title2');\n      }\n\n      if(index == 1 && slideIndex == 1 && direction == 'right'){\n        fade('.title3');\n      }\n\n      if(index == 1 && slideIndex == 2 && direction == 'right'){\n        fade('.title4');\n      }\n\n      if(index == 1 && slideIndex == 3 && direction == 'right'){\n        fade('.title5');\n      }\n\n      if(index == 1 && slideIndex == 4 && direction == 'left'){\n        fade('.title1');\n      }\n    }\n\n  });// fullpage init\n\n  setInterval(function(){\n      $.fn.fullpage.moveSlideRight();\n    }, 5000);\n\n//nice-select for inputs\n\n$('.order-form select').niceSelect();\n\n//toggle hamburger menu\n\n$('.hamburger').on('click', function(){\n  $(this).toggleClass(\"is-active\");\n  $('.nav-dropdown').slideToggle('slow');\n});\n\n$('.nav__link').on('click', function(){\n  $('.nav-dropdown').slideUp('fast');\n  $('.hamburger').removeClass(\"is-active\");\n});\n\n\n\n//price-tabs\n\n  var $wrapper = $('.price-table'),\n      $allTabs = $wrapper.find('.price-table__block'),\n      $tabMenu = $wrapper.find('.price-table__item');\n\n  $allTabs.not(':first-of-type').hide();\n\n  $tabMenu.each(function(i) {\n    $(this).attr('data-tab', 'tab'+i);\n  })\n  $allTabs.each(function(i) {\n    $(this).attr('data-tab', 'tab'+i);\n  })\n\n  $tabMenu.on('click', function() {\n\n    var dataTab = $(this).data('tab');\n    $getWrapper = $(this).closest($wrapper);\n    $getWrapper.find($tabMenu).removeClass('active');\n    $(this).addClass('active');\n    $getWrapper.find($allTabs).hide();\n    $getWrapper.find($allTabs).filter('[data-tab='+dataTab+']').show();\n  })\n\n// mailsend\n\n    $('#send-btn').on('click', function(e){\n      e.preventDefault();\n      console.log('start sending...');\n      var errors = false;\n      var $form = $(this).closest('.order-form');\n      // $($form).find('span').empty();\n      // $form.find('input, textarea').each(function(){\n      //   if($.trim( $(this).val() ) == ''){\n      //     errors = true;\n      //     // $(this).next().text('Не заполнено поле' + $(this).prev().text());\n      //     console.log('Не заполнено поле');\n      //   }\n      // });\n\n        // var json = {\n        //   name: $('input[name=name]').val(),\n        //   email: $('input[name=email]').val(),\n        //   type: $('input[name=type]').val(),\n        //   verstka:  $('input[name=verstka]').val(),\n        //   adaptive:  $('input[name=adaptive]').val(),\n        //   pagn:  $('input[name=pagn]').val(),\n        //   ishodn:  $('input[name=ishodn]').val(),\n        //   tz:  $('input[name=tz]').val(),\n        //   comment:  $('input[name=comment]').val()\n        // }\n        // var Obj = JSON.parse(json);\n        // console.log(Obj['verstka']);\n        // $('.data>span').html(Obj['name']);\n\n      if(!errors) {\n        var data = $('.order-form').serialize(); //склеивает данные форму в qerystring\n        console.log(data);\n        $.ajax({\n          url: 'mailSend.php',\n          type: 'POST',\n          // data: 'json=' + JSON.stringify(json),\n          data: data,\n          contentType: false,\n          processData: false,\n          beforeSend: function(){\n            $('#send-btn').next().text('Отправляю...');\n          },\n          success: function(res){\n            if(res !== 1){\n            $('.order-form').find('input:not(#send-btn), textarea').val('');\n              $('#send-btn').next().text('');\n\n              // console.log(Obj['name']); //error\n              console.log('Отправлено');\n              console.log(res);\n\n            }else {\n              $('#send-btn').next().empty();\n              console.log('Ошибка отправки');\n            }\n          },\n          error: function() {\n            console.log('Ошибка');\n          }\n        });\n      }\n    })\n\n\n\n\n\n});//ready\n"],"file":"myscripts.js"}